<!DOCTYPE html>
<html>
<head>
<meta charset='UTF-8'/>
<!--[if lt IE 9]>
<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<script src='http://underscorejs.org/underscore-min.js'></script>
<script src='http://api.tiles.mapbox.com/mapbox.js/v0.6.7/mapbox.js'></script>
<link href='http://api.tiles.mapbox.com/mapbox.js/v0.6.7/mapbox.css' rel='stylesheet' />
<script type="text/javascript" src="../routes.js"></script>
<link href='style.css' rel='stylesheet' />
<style>
.d3-vec { position:absolute; }
path {
  fill: #000;
  fill-opacity: .05;
  stroke: red;
  stroke-opacity: 0.50;
  stroke-width: 15.0px;
  }
</style>
</head>
<body class='section-0'>
<script src='http://d3js.org/d3.v2.min.js'></script>

<div id='pane'><div id='map'></div></div>

<article>

<section id='cover' class='cover active'>
    <h1>LRT-2 Katipunan or Marikina <br><br> to College of Music or College of Mass Communication<br><br></h1>
    <p>BEST-Transit</p>
    <small class='scroll'>Scroll ▼</small>  
  </section>

  <section id='katips'>
    <h2>LRT-2 Katipunan or Marikina </h2>
    <p align=”justify”>Go to the Katipunan Jeepney Terminal</p>
   <br>
   <u>If you are from Marikina:</u>
    
    <br>

Riding a jeep from Marikina, alight at Aurora Blvd corner Katipunan Road.  Then walk towards the UP-Katipunan Jeepney Terminal (this is under the Katipunan flyover). 

    <br><br>
   <u>If you have ridden the LRT-2:</u>
  
    <br>

From the LRT-2 Station at Katipunan, make sure you go out through the North Exit so that you’ll end up at the opposite side of PSBA and the same block as St. Bridget. Walk towards the Katipunan Flyover; underneath it is the UP-Katipunan Jeepney Terminal.

    <br><br>

At the UP-Katipunan Jeep Terminal, you’ll see 2 queues, both calling UP. Make sure you ride the jeep which goes inside the campus (the jeep line closer to Ministop). To be sure, confirm with the jeep dispatcher that the jeep goes inside UP.  (The other jeep queue that is farther from ministop goes to Tandang Sora passing-by MWSS and will not go inside UP.)  Then give your fare to the dispatcher before going inside the jeep.

   <br>
Fare: 8:00

   </p>
   <br>
   </section>

  <section id='theatre'>
    <h2>College of Music or College of Mass Communication</h2>
    <p align=”justify”>
    
    <br>

The UP-Katipunan jeep enters UP Diliman through the gate opposite MWSS (Manila Water).  The jeep is now on the Magsaysay Ave. Road.  Then you will pass by Asian Studies Center (Romulo Hall) at your left.  After two turns. the jeep passes-by several commercial establishments like UP Health Service, Parish of Holy Sacrifice, and University Shopping Center, as well as Residence Halls like Kalayaan, Sanggumay.  Continuing, the jeep will eventually reach the Osmeña Ave. of the Academic Oval (oval-shaped one-way busy thoroughfare lined by lots of huge trees).  

     <br><br>
    
<u> If you’re going to the College of Music (Abelardo Hall): </u>

    <br>

Looking at you’re right, first the jeep the will pass-by the Tennis Courts (with tall green fences), next the Film Institute, followed by the Carillon (tower-like structure with bells), then the University Theater (Villamor Hall).  A few meters from the theater’s from the signage, there is a jeepney stop with waiting shed; alight the jeep at this point.  You are now in-between Abelardo Hall (College of Music) and Villamor Hall.  Facing the waiting shed, the building at your right is Villamor Hall while the building at your left is Abelardo Hall.  Then walk towards Abelardo Hall.

     <br><br>

<u>If you’re going to the College of Mass Communication (Plaridel Hall):</u>

      <br>

Alight from the jeep at the jeepney stop with waiting shed in-between Abelardo Hall (College of Music) and Villamor Hall.  Facing the waiting shed, the building at your right is Villamor Hall while the building at your left is Abelardo Hall.  Now on the pathway, walk past Abelardo Hall to the junction of Osmeña Ave and Ylanan Road.  Walk across Ylanan Road to Plaridel Hall.  

      <br>

</p>
</section>


</article>

<script>
//For the D3 layer
function d3layer() {
    var f = {}, bounds, feature, collection;
    var div = d3.select(document.body)
        .append("div")
        .attr('class', 'd3-vec'),
        svg = div.append('svg'),
        g = svg.append("g");

    f.parent = div.node();

    f.project = function(x) {
      var point = f.map.locationPoint({ lat: x[1], lon: x[0] });
      return [point.x, point.y];
    };

    var first = true;
    f.draw = function() {
      first && svg.attr("width", f.map.dimensions.x)
          .attr("height", f.map.dimensions.y)
          .style("margin-left", "0px")
          .style("margin-top", "0px") && (first = false);

      path = d3.geo.path().projection(f.project);
      feature.attr("d", path);
    };

    f.data = function(x) {
        collection = x;
        bounds = d3.geo.bounds(collection);
        feature = g.selectAll("path")
            .data(collection.features)
            .enter().append("path");
        return f;
    };

    f.extent = function() {
        return new MM.Extent(
            new MM.Location(bounds[0][1], bounds[0][0]),
            new MM.Location(bounds[1][1], bounds[1][0]));
    };
    return f;
}

var tiles = mapbox.layer().tilejson({
  tiles: [ "http://a.tiles.mapbox.com/v3/examples.map-liczq28b/{z}/{x}/{y}.png" ]
});
var spots = mapbox.markers.layer()
  // Load up markers from geojson data.
  .features(geojson)
  // Define a new factory function. Takes geojson input and returns a
  // DOM element that represents the point.
  .factory(function(f) {
    var el = document.createElement('div');
    el.className = 'spot spot-' + f.properties.id;
    return el;
  });
// Creates the map with tile and marker layers and
// no input handlers (mouse drag, scrollwheel, etc).
var map = mapbox.map('map', [spots], null, []);

//Add baselayer
map.addLayer(new MM.TemplatedLayer('http://c.tiles.mapbox.com/v3/examples.map-szwdot65/{Z}/{X}/{Y}.png'));
map.ui.attribution.add()
    .content('Map tiles by <a href="http://stamen.com">Mapbox</a>, under' +
    ' <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>.' +
    ' Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, under <a href="http://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>.');
// Add Jeep Route
var jeep = d3layer().data(katips);
map.addLayer(jeep);

map.addLayer(spots);

// Array of story section elements.
var sections = document.getElementsByTagName('section');

// Array of marker elements with order matching section elements.
var markers = _(sections).map(function(section) {
  return _(spots.markers()).find(function(m) {
    return m.data.properties.id === section.id;
  });
});

// Helper to set the active section.
var setActive = function(index, ease) {
  // Set active class on sections, markers.
  _(sections).each(function(s) { s.className = s.className.replace(' active', '') });
  _(markers).each(function(m) { m.element.className = m.element.className.replace(' active', '') });
  sections[index].className += ' active';
  markers[index].element.className += ' active';

  // Set a body class for the active section.
  document.body.className = 'section-' + index;

  // Ease map to active marker.
  if (!ease) {
    map.centerzoom(markers[index].location, markers[index].data.properties.zoom||20);
  } else {
    map.ease.location(markers[index].location).zoom(markers[index].data.properties.zoom||20).optimal(0.5, 2);
  }

  return true;
};

// Bind to scroll events to find the active section.
window.onscroll = _(function() {
  // IE 8
  if (window.pageYOffset === undefined) {
    var y = document.documentElement.scrollTop;
    var h = document.documentElement.clientHeight;
  } else {
    var y = window.pageYOffset;
    var h = window.innerHeight;
  }

  // If scrolled to the very top of the page set the first section active.
  if (y === 0) return setActive(0, true);

  // Otherwise, conditionally determine the extent to which page must be
  // scrolled for each section. The first section that matches the current
  // scroll position wins and exits the loop early.
  var memo = 0;
  var buffer = (h * 0.3333);
  var active = _(sections).any(function(el, index) {
    memo += el.offsetHeight;
    return y < (memo-buffer) ? setActive(index, true) : false;
  });

  // If no section was set active the user has scrolled past the last section.
  // Set the last section active.
  if (!active) setActive(sections.length - 1, true);
}).debounce(10);

// Set map to first section.
setActive(0, false);


//var myLayer = L.geoJson(ikot).addTo(map);
</script>

</body>
</html>
